<!doctype html>
<!--
  Minimal Mistakes Jekyll Theme 4.24.0 by Michael Rose
  Copyright 2013-2020 Michael Rose - mademistakes.com | @mmistakes
  Free for personal and commercial use under the MIT license
  https://github.com/mmistakes/minimal-mistakes/blob/master/LICENSE
-->
<html lang="en" class="no-js">
  <head>
    <meta charset="utf-8">

<!-- begin _includes/seo.html --><title>ROS Cheatsheet - Pharath Palesuvaran</title>
<meta name="description" content="ROS Packages  image_view  Display the images of an image topic: rosrun image_view image_view image:=/sensor/camera1/image_raw   opencv_apps  Install     sudo apt install ros-noetic-opencv-apps   Hough Transform  roslaunch opencv_apps hough_lines.launch image:=/sensor/camera1/image_raw  # view all arguments of a node in the launch file roslaunch --args hough_lines /opt/ros/noetic/share/opencv_apps/launch/hough_lines.launch  # view all arguments of the launch file roslaunch --ros-args /opt/ros/noetic/share/opencv_apps/launch/hough_lines.launch   Fast File Search  E.g. to quickly locate and show launch files, package.xml, etc. rospack find rac&lt;&lt;&lt; hit tab —&gt; racing &gt;&gt;&gt; roscat &lt;package&gt; &lt;file&gt;   Roscore  To start a ROS Master (and some other pre-requisite programs): roscore   From ROS wiki:  roscore is a collection of nodes and programs that are pre-requisites of a ROS-based system. You must have a roscore running in order for ROS nodes to communicate. It is launched using the roscore command.  NOTE: If you use roslaunch, it will automatically start roscore if it detects that it is not already running (unless the --wait argument is supplied).  roscore will start up:    a ROS Master   a ROS Parameter Server   a rosout logging node   There are currently no plans to add to roscore.  Roslaunch  Tool for    launching multiple ROS nodes and   setting parameters on the Parameter Server. Takes in one or more XML configuration files (with .launch extension) that specify   the parameters to set and   nodes to launch.   roslaunch &lt;package&gt; &lt;.launch-file&gt; &lt;&lt;&lt; hit tab 2x &gt;&gt;&gt;		# mit tab 2x werden alle arguments des .launch file angezeigt   Launch Files  .launch file tags:    node (run node)   param (set param)            if &lt;param name=… value=… /&gt; is between &lt;node name=… pkg=… type=… output=… &gt; and &lt;/node&gt;, then the final name of the parameter is node name/param name           arg (take in arguments from outside this file, and otherwise set default)            e.g. &lt;arg name=&quot;world_path&quot; default=&quot;$(find racing)/resources/racing_world.yaml&quot;/&gt;           roslaunch --ros-args /path/to/launchfile.launch    Display command-line arguments for this launch file   &lt;launch&gt;   &lt;!-- ros_args.launch --&gt;   &lt;arg name=&quot;foo&quot; default=&quot;true&quot; doc=&quot;I pity the foo&#39;.&quot;/&gt;   &lt;arg name=&quot;bar&quot; doc=&quot;Someone walks into this.&quot;/&gt;   &lt;arg name=&quot;baz&quot; default=&quot;false&quot;/&gt;   &lt;arg name=&quot;nop&quot;/&gt;   &lt;arg name=&quot;fix&quot; value=&quot;true&quot;/&gt; &lt;/launch&gt;   Show Launch File Information  $&gt; roslaunch --ros-args ros_args.launch Required Arguments:   bar: Someone walks into this.   nop: undocumented Optional Arguments:   baz (default &quot;false&quot;): undocumented   foo (default &quot;true&quot;): I pity the foo&#39;.   Rosrun  rosrun &lt;package&gt; &lt;node&gt;   Nodes  rosnode list rosnode info &lt;node&gt;   Parameters  rosparam &lt;&lt;&lt; hit tab 2x &gt;&gt;&gt; rosparam list rosparam set &lt;parameter&gt; &lt;value&gt; rosparam get &lt;parameter&gt;   Messages  rosmsg show &lt;&lt;&lt; hit tab 2x &gt;&gt;&gt; rosmsg show &lt;message type&gt;    # (message type: zB geometry_msgs/Twist)  alternativ: rosmsg info  Topics  rostopic list rostopic info /topic &lt;&lt;&lt; hit tab 2x &gt;&gt;&gt;    # zeigt .msg type des topics (gibt nur einen) UND Liste aller nodes, die zu &quot;/topic&quot; publishen oder &quot;/topic&quot; subscriben rostopic echo /topic rostopic pub /topic &lt;message type&gt; &lt;message&gt;   Services     are similar to publish/subscribe message system, but are intended for one-time execution instead of permanent streaming.   Client directly calls service at another node without going through anonymous topic.   Services natively include responses ( publish/subscribe system does not! )   similar to .msg types, services work with .srv types (zB. flatland_msgs/MoveModel cp. output of rosservice info)   rosservice list rosservice info /service rossrv info &lt;service type&gt; rosservice call /service &lt;&lt;&lt; hit tab &gt;&gt;&gt;   Bags  (= a bag is a file format for storing message data.)  rosbag record /Topic1 [ /Topic2 /Topic3 … ]			stores recorded .bag file with the contents of the specified topics in the current dir (i.e. use e.g. “roscd racing” before !)   NOTE: Füge *.bag zum .gitignore file des branch hinzu ! (Weil .bag files werden in real-world projects zu groß (multiple GB) um sie in einer git repo zu tracken !) Dadurch bleibt git status “clean”, auch wenn ein .bag file dazukommt.  rosbag info bagfile1 [ bagfile2 bagfile3 … ]   rosbag play -l bagfile1 [ bagfile2 bagfile3 … ]    # -l for loop, ie. repeat after &quot;duration&quot; is over (sonst hört ROS nach ca. &quot;duration&quot; auf) (while running, press &lt;space&gt; to pause and resume the playback)   rclcpp (ROS Client Library for C++)  RWTH Self-Driving Lab 1  yaml files  racing_cart.yaml    Vehicle model = (kinematic single track model [s. Ex5] + actuator model [incl. actuators’ “lagging”])   header files  VehicleController.h ros/ros.h sensor_msgs/LaserScan.h geometry_msgs/Twist.h   classes  ros::Publisher ::publish(const boost::shared_ptr&lt;M&gt;&amp; message)          // overloaded function   // &quot;M&quot; ist ein template parameter (s. C++ templates), d.h. &quot;M&quot; steht für einen beliebigen Typ bzw. Klasse ::publish(const M&amp; message)                                            // overloaded function.  // &quot;M&quot; ist ein template parameter (s. C++ templates), d.h. &quot;M&quot; steht für einen beliebigen Typ bzw. Klasse ros::Subscriber ros::NodeHandle ::getParam(&quot;vehicle/sensor_topic&quot;, subscribe_topic_sensors) ::subscribe(subscribe_topic_sensors, 10, callbackLaserSensor) ::advertise&lt;geometry_msgs::Twist&gt;(publish_topic_actuators, 10) ros::Rate   VehicleController ::overwriteLidarDistances(const float distances[3]) ::computeTargetValues() ::getTargetVelocity() ::getTargetSteeringAngle()   messages  Generell gilt: Schaue message Definitionen in entsprechenden .msg files in noetic/share/sensor_msgs/msg/ nach ! Oder über rosmsg show Befehl !  geometry_msgs::Twist geometry_msgs::Vector3   Understanding sensor_msgs::LaserScanPtr     LaserScanPtr ist ein typedef-Synonym für boost::shared_ptr&lt; ::sensor_msgs::LaserScan &gt;            dh. ::sensor_msgs::LaserScan wird hier als class im Template Parameter aufgenommen                    s. Notes “C++” unter “Double Colon prepended to the class name”                           ContainerAllocator ist ein struct-Template Parameter (struct templates sind ähnlich wie class templates)! (Zeile 22, LaserScan.h) und in Zeile 94 wird std::allocator&lt;void&gt; als Template Parameter übergeben, um den LaserScan-Typ über typedef zu definieren.            unterscheide LaserScan_ (mit Unterstrich) und LaserScan (ohne Unterstrich)       LaserScan (ohne Unterstrich) ist ein typedef für ein LaserScan_ (mit Unterstrich) -Objekt (Zeile 94 in LaserScan.h)       LaserScanPtr wiederum ist ein typedef für ein LaserScan-Objekt (Zeile 96)           ::ranges[i]     ranges hat den Typ _ranges_type (s. LaserScan.h), was ein typedef ist für std::vector&lt;float, custom Allocator&gt;, wobei der custom Allocator über den Template Parameter ContainerAllocator (s. Zeile 22 in LaserScan.h) festgelegt wird (in Zeile 94 ist der custom Allocator also std::allocator&lt;void&gt;   std::vector ist definiert als template &lt; class T, class Alloc = allocator&lt;T&gt; &gt; class vector; (s. &lt;vector&gt; header file) tutorialspoint   Wikipedia: Allocator   zu template rebind: stackoverflow   einfach gesagt: ranges ist ein beliebig langer std::vector mit float32 Elementen (vgl. rosmsg show sensor_msgs/LaserScan Befehl)   methods  ROS_INFO()  ROS_INFO(&quot;string&quot;)   ros::init()  ros::init(argc, argv, &quot;vehicle_controller&quot;)   ros::spin()  ros::spin()   alternativ zu ros::spin():   ros::Rate r(10); // 10 hz   while (ros::ok())   {     // ... do some work, publish some messages, etc. ...     ros::spinOnce();     r.sleep();			// r ist ein ros::Rate Objekt (s. 1. Zeile)   }">


  <meta name="author" content="Pharath Palesuvaran">
  
  <meta property="article:author" content="Pharath Palesuvaran">
  


<meta property="og:type" content="article">
<meta property="og:locale" content="en_US">
<meta property="og:site_name" content="Pharath Palesuvaran">
<meta property="og:title" content="ROS Cheatsheet">
<meta property="og:url" content="http://localhost:4000/cheatsheet/cheatsheet-ros/">


  <meta property="og:description" content="ROS Packages  image_view  Display the images of an image topic: rosrun image_view image_view image:=/sensor/camera1/image_raw   opencv_apps  Install     sudo apt install ros-noetic-opencv-apps   Hough Transform  roslaunch opencv_apps hough_lines.launch image:=/sensor/camera1/image_raw  # view all arguments of a node in the launch file roslaunch --args hough_lines /opt/ros/noetic/share/opencv_apps/launch/hough_lines.launch  # view all arguments of the launch file roslaunch --ros-args /opt/ros/noetic/share/opencv_apps/launch/hough_lines.launch   Fast File Search  E.g. to quickly locate and show launch files, package.xml, etc. rospack find rac&lt;&lt;&lt; hit tab —&gt; racing &gt;&gt;&gt; roscat &lt;package&gt; &lt;file&gt;   Roscore  To start a ROS Master (and some other pre-requisite programs): roscore   From ROS wiki:  roscore is a collection of nodes and programs that are pre-requisites of a ROS-based system. You must have a roscore running in order for ROS nodes to communicate. It is launched using the roscore command.  NOTE: If you use roslaunch, it will automatically start roscore if it detects that it is not already running (unless the --wait argument is supplied).  roscore will start up:    a ROS Master   a ROS Parameter Server   a rosout logging node   There are currently no plans to add to roscore.  Roslaunch  Tool for    launching multiple ROS nodes and   setting parameters on the Parameter Server. Takes in one or more XML configuration files (with .launch extension) that specify   the parameters to set and   nodes to launch.   roslaunch &lt;package&gt; &lt;.launch-file&gt; &lt;&lt;&lt; hit tab 2x &gt;&gt;&gt;		# mit tab 2x werden alle arguments des .launch file angezeigt   Launch Files  .launch file tags:    node (run node)   param (set param)            if &lt;param name=… value=… /&gt; is between &lt;node name=… pkg=… type=… output=… &gt; and &lt;/node&gt;, then the final name of the parameter is node name/param name           arg (take in arguments from outside this file, and otherwise set default)            e.g. &lt;arg name=&quot;world_path&quot; default=&quot;$(find racing)/resources/racing_world.yaml&quot;/&gt;           roslaunch --ros-args /path/to/launchfile.launch    Display command-line arguments for this launch file   &lt;launch&gt;   &lt;!-- ros_args.launch --&gt;   &lt;arg name=&quot;foo&quot; default=&quot;true&quot; doc=&quot;I pity the foo&#39;.&quot;/&gt;   &lt;arg name=&quot;bar&quot; doc=&quot;Someone walks into this.&quot;/&gt;   &lt;arg name=&quot;baz&quot; default=&quot;false&quot;/&gt;   &lt;arg name=&quot;nop&quot;/&gt;   &lt;arg name=&quot;fix&quot; value=&quot;true&quot;/&gt; &lt;/launch&gt;   Show Launch File Information  $&gt; roslaunch --ros-args ros_args.launch Required Arguments:   bar: Someone walks into this.   nop: undocumented Optional Arguments:   baz (default &quot;false&quot;): undocumented   foo (default &quot;true&quot;): I pity the foo&#39;.   Rosrun  rosrun &lt;package&gt; &lt;node&gt;   Nodes  rosnode list rosnode info &lt;node&gt;   Parameters  rosparam &lt;&lt;&lt; hit tab 2x &gt;&gt;&gt; rosparam list rosparam set &lt;parameter&gt; &lt;value&gt; rosparam get &lt;parameter&gt;   Messages  rosmsg show &lt;&lt;&lt; hit tab 2x &gt;&gt;&gt; rosmsg show &lt;message type&gt;    # (message type: zB geometry_msgs/Twist)  alternativ: rosmsg info  Topics  rostopic list rostopic info /topic &lt;&lt;&lt; hit tab 2x &gt;&gt;&gt;    # zeigt .msg type des topics (gibt nur einen) UND Liste aller nodes, die zu &quot;/topic&quot; publishen oder &quot;/topic&quot; subscriben rostopic echo /topic rostopic pub /topic &lt;message type&gt; &lt;message&gt;   Services     are similar to publish/subscribe message system, but are intended for one-time execution instead of permanent streaming.   Client directly calls service at another node without going through anonymous topic.   Services natively include responses ( publish/subscribe system does not! )   similar to .msg types, services work with .srv types (zB. flatland_msgs/MoveModel cp. output of rosservice info)   rosservice list rosservice info /service rossrv info &lt;service type&gt; rosservice call /service &lt;&lt;&lt; hit tab &gt;&gt;&gt;   Bags  (= a bag is a file format for storing message data.)  rosbag record /Topic1 [ /Topic2 /Topic3 … ]			stores recorded .bag file with the contents of the specified topics in the current dir (i.e. use e.g. “roscd racing” before !)   NOTE: Füge *.bag zum .gitignore file des branch hinzu ! (Weil .bag files werden in real-world projects zu groß (multiple GB) um sie in einer git repo zu tracken !) Dadurch bleibt git status “clean”, auch wenn ein .bag file dazukommt.  rosbag info bagfile1 [ bagfile2 bagfile3 … ]   rosbag play -l bagfile1 [ bagfile2 bagfile3 … ]    # -l for loop, ie. repeat after &quot;duration&quot; is over (sonst hört ROS nach ca. &quot;duration&quot; auf) (while running, press &lt;space&gt; to pause and resume the playback)   rclcpp (ROS Client Library for C++)  RWTH Self-Driving Lab 1  yaml files  racing_cart.yaml    Vehicle model = (kinematic single track model [s. Ex5] + actuator model [incl. actuators’ “lagging”])   header files  VehicleController.h ros/ros.h sensor_msgs/LaserScan.h geometry_msgs/Twist.h   classes  ros::Publisher ::publish(const boost::shared_ptr&lt;M&gt;&amp; message)          // overloaded function   // &quot;M&quot; ist ein template parameter (s. C++ templates), d.h. &quot;M&quot; steht für einen beliebigen Typ bzw. Klasse ::publish(const M&amp; message)                                            // overloaded function.  // &quot;M&quot; ist ein template parameter (s. C++ templates), d.h. &quot;M&quot; steht für einen beliebigen Typ bzw. Klasse ros::Subscriber ros::NodeHandle ::getParam(&quot;vehicle/sensor_topic&quot;, subscribe_topic_sensors) ::subscribe(subscribe_topic_sensors, 10, callbackLaserSensor) ::advertise&lt;geometry_msgs::Twist&gt;(publish_topic_actuators, 10) ros::Rate   VehicleController ::overwriteLidarDistances(const float distances[3]) ::computeTargetValues() ::getTargetVelocity() ::getTargetSteeringAngle()   messages  Generell gilt: Schaue message Definitionen in entsprechenden .msg files in noetic/share/sensor_msgs/msg/ nach ! Oder über rosmsg show Befehl !  geometry_msgs::Twist geometry_msgs::Vector3   Understanding sensor_msgs::LaserScanPtr     LaserScanPtr ist ein typedef-Synonym für boost::shared_ptr&lt; ::sensor_msgs::LaserScan &gt;            dh. ::sensor_msgs::LaserScan wird hier als class im Template Parameter aufgenommen                    s. Notes “C++” unter “Double Colon prepended to the class name”                           ContainerAllocator ist ein struct-Template Parameter (struct templates sind ähnlich wie class templates)! (Zeile 22, LaserScan.h) und in Zeile 94 wird std::allocator&lt;void&gt; als Template Parameter übergeben, um den LaserScan-Typ über typedef zu definieren.            unterscheide LaserScan_ (mit Unterstrich) und LaserScan (ohne Unterstrich)       LaserScan (ohne Unterstrich) ist ein typedef für ein LaserScan_ (mit Unterstrich) -Objekt (Zeile 94 in LaserScan.h)       LaserScanPtr wiederum ist ein typedef für ein LaserScan-Objekt (Zeile 96)           ::ranges[i]     ranges hat den Typ _ranges_type (s. LaserScan.h), was ein typedef ist für std::vector&lt;float, custom Allocator&gt;, wobei der custom Allocator über den Template Parameter ContainerAllocator (s. Zeile 22 in LaserScan.h) festgelegt wird (in Zeile 94 ist der custom Allocator also std::allocator&lt;void&gt;   std::vector ist definiert als template &lt; class T, class Alloc = allocator&lt;T&gt; &gt; class vector; (s. &lt;vector&gt; header file) tutorialspoint   Wikipedia: Allocator   zu template rebind: stackoverflow   einfach gesagt: ranges ist ein beliebig langer std::vector mit float32 Elementen (vgl. rosmsg show sensor_msgs/LaserScan Befehl)   methods  ROS_INFO()  ROS_INFO(&quot;string&quot;)   ros::init()  ros::init(argc, argv, &quot;vehicle_controller&quot;)   ros::spin()  ros::spin()   alternativ zu ros::spin():   ros::Rate r(10); // 10 hz   while (ros::ok())   {     // ... do some work, publish some messages, etc. ...     ros::spinOnce();     r.sleep();			// r ist ein ros::Rate Objekt (s. 1. Zeile)   }">







  <meta property="article:published_time" content="2022-01-22T00:00:00+01:00">






<link rel="canonical" href="http://localhost:4000/cheatsheet/cheatsheet-ros/">




<script type="application/ld+json">
  {
    "@context": "https://schema.org",
    
      "@type": "Person",
      "name": null,
      "url": "http://localhost:4000/"
    
  }
</script>







<!-- end _includes/seo.html -->



  <link href="/feed.xml" type="application/atom+xml" rel="alternate" title="Pharath Palesuvaran Feed">


<!-- https://t.co/dKP3o1e -->
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script>
  document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + ' js ';
</script>

<!-- For all browsers -->
<link rel="stylesheet" href="/assets/css/main.css">
<link rel="preload" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5/css/all.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
<noscript><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5/css/all.min.css"></noscript>



    <!-- start custom head snippets -->

<!-- insert favicons. use https://realfavicongenerator.net/ -->

<link rel="apple-touch-icon" sizes="180x180" href="https://raw.githubusercontent.com/pharath/home/master/assets/favicons/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://raw.githubusercontent.com/pharath/home/master/assets/favicons/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="https://raw.githubusercontent.com/pharath/home/master/assets/favicons/favicon-16x16.png">
<link rel="manifest" href="https://raw.githubusercontent.com/pharath/home/master/assets/favicons/site.webmanifest">
<link rel="shortcut icon" href="https://raw.githubusercontent.com/pharath/home/master/assets/favicons/favicon.ico">
<meta name="msapplication-TileColor" content="#da532c">
<meta name="msapplication-config" content="https://raw.githubusercontent.com/pharath/home/master/assets/favicons/browserconfig.xml">
<meta name="theme-color" content="#ffffff">

<script type="text/x-mathjax-config"> MathJax.Hub.Config({ TeX: { equationNumbers: { autoNumber: "all" } } }); </script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    tex2jax: {
      inlineMath: [ ['$','$'], ["\\(","\\)"] ],
      displayMath: [ ['$$','$$'], ["\\(","\\)"] ],
    },
		TeX: {
    	Macros: {
				bra: ["\\langle{#1}|", 1],
				ket: ["|{#1}\\rangle", 1],
        braket: ["\\langle{#1}\\rangle", 1],
				bk: ["\\langle{#1}|{#2}|{#3}\\rangle", 3]
    	}
  	}
	});

</script>
<!--
<script src='https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/latest.js?config=TeX-MML-AM_CHTML' async></script>
<script src='https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-MML-AM_CHTML' async></script>
-->
<script src='https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-MML-AM_CHTML' async></script>

<!-- end custom head snippets -->

  </head>

  <body class="layout--single">
    <nav class="skip-links">
  <ul>
    <li><a href="#site-nav" class="screen-reader-shortcut">Skip to primary navigation</a></li>
    <li><a href="#main" class="screen-reader-shortcut">Skip to content</a></li>
    <li><a href="#footer" class="screen-reader-shortcut">Skip to footer</a></li>
  </ul>
</nav>

    

<div class="masthead">
  <div class="masthead__inner-wrap">
    <div class="masthead__menu">
      <nav id="site-nav" class="greedy-nav">
        
          <a class="site-logo" href="/"><img src="/assets/images/pytorch-logo.png" alt="Pharath Palesuvaran"></a>
        
        <a class="site-title" href="/">
          Pharath Palesuvaran
          
        </a>
        <ul class="visible-links"><li class="masthead__menu-item">
              <a href="/posts/">Posts</a>
            </li><li class="masthead__menu-item">
              <a href="/categories/">Categories</a>
            </li><li class="masthead__menu-item">
              <a href="/tags/">Tags</a>
            </li><li class="masthead__menu-item">
              <a href="/about/">About</a>
            </li></ul>
        
        <button class="search__toggle" type="button" accesskey="s">
          <span class="visually-hidden">Toggle search</span>
          <i class="fas fa-search"></i>
        </button>
        
        <button class="greedy-nav__toggle hidden" type="button">
          <span class="visually-hidden">Toggle menu</span>
          <div class="navicon"></div>
        </button>
        <ul class="hidden-links hidden"></ul>
      </nav>
    </div>
  </div>
</div>


    <div class="initial-content">
      





<div id="main" role="main">
  
  <div class="sidebar sticky">
  


<div itemscope itemtype="https://schema.org/Person" class="h-card">

  
    <div class="author__avatar">
      <a href="http://localhost:4000/">
        <img src="/assets/images/profile_pic.jpg" alt="Pharath Palesuvaran" itemprop="image" class="u-photo">
      </a>
    </div>
  

  <div class="author__content">
    <h3 class="author__name p-name" itemprop="name">
      <a class="u-url" rel="me" href="http://localhost:4000/" itemprop="url">Pharath Palesuvaran</a>
    </h3>
    
      <div class="author__bio p-note" itemprop="description">
        <p>Machine Learning, Computer Vision, Self-driving cars and a very rusty first degree in Physics</p>

      </div>
    
  </div>

  <div class="author__urls-wrapper">
    <button class="btn btn--inverse">Follow</button>
    <ul class="author__urls social-icons">
      
        <li itemprop="homeLocation" itemscope itemtype="https://schema.org/Place">
          <i class="fas fa-fw fa-map-marker-alt" aria-hidden="true"></i> <span itemprop="name" class="p-locality">Aachen (Germany)</span>
        </li>
      

      
        
          
            <li><a href="mailto:phrth2@gmail.com" rel="nofollow noopener noreferrer me"><i class="fas fa-fw fa-envelope-square" aria-hidden="true"></i><span class="label">Email</span></a></li>
          
        
          
        
          
            <li><a href="https://twitter.com/pharath_one" rel="nofollow noopener noreferrer me" itemprop="sameAs"><i class="fab fa-fw fa-twitter-square" aria-hidden="true"></i><span class="label">Twitter</span></a></li>
          
        
          
            <li><a href="https://github.com/pharath" rel="nofollow noopener noreferrer me" itemprop="sameAs"><i class="fab fa-fw fa-github" aria-hidden="true"></i><span class="label">GitHub</span></a></li>
          
        
          
            <li><a href="/_pages/404.md" rel="nofollow noopener noreferrer me"><i class="fab fa-fw fa-instagram" aria-hidden="true"></i><span class="label">Instagram</span></a></li>
          
        
      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      <!--
  <li>
    <a href="http://link-to-whatever-social-network.com/user/" itemprop="sameAs" rel="nofollow noopener noreferrer me">
      <i class="fas fa-fw" aria-hidden="true"></i> Custom Social Profile Link
    </a>
  </li>
-->
    </ul>
  </div>
</div>

  
  </div>



  <article class="page h-entry" itemscope itemtype="https://schema.org/CreativeWork">
    <meta itemprop="headline" content="ROS Cheatsheet">
    <meta itemprop="description" content="ROS Packagesimage_viewDisplay the images of an image topic:rosrun image_view image_view image:=/sensor/camera1/image_rawopencv_appsInstall  sudo apt install ros-noetic-opencv-appsHough Transformroslaunch opencv_apps hough_lines.launch image:=/sensor/camera1/image_raw# view all arguments of a node in the launch fileroslaunch --args hough_lines /opt/ros/noetic/share/opencv_apps/launch/hough_lines.launch# view all arguments of the launch fileroslaunch --ros-args /opt/ros/noetic/share/opencv_apps/launch/hough_lines.launchFast File SearchE.g. to quickly locate and show launch files, package.xml, etc.rospack find rac&lt;&lt;&lt; hit tab —&gt; racing &gt;&gt;&gt;roscat &lt;package&gt; &lt;file&gt;RoscoreTo start a ROS Master (and some other pre-requisite programs):roscoreFrom ROS wiki:roscore is a collection of nodes and programs that are pre-requisites of a ROS-based system. You must have a roscore running in order for ROS nodes to communicate. It is launched using the roscore command.NOTE: If you use roslaunch, it will automatically start roscore if it detects that it is not already running (unless the --wait argument is supplied).roscore will start up:  a ROS Master  a ROS Parameter Server  a rosout logging nodeThere are currently no plans to add to roscore.RoslaunchTool for  launching multiple ROS nodes and  setting parameters on the Parameter Server.Takes in one or more XML configuration files (with .launch extension) that specify  the parameters to set and  nodes to launch.roslaunch &lt;package&gt; &lt;.launch-file&gt; &lt;&lt;&lt; hit tab 2x &gt;&gt;&gt;		# mit tab 2x werden alle arguments des .launch file angezeigtLaunch Files.launch file tags:  node (run node)  param (set param)          if &lt;param name=… value=… /&gt; is between &lt;node name=… pkg=… type=… output=… &gt; and &lt;/node&gt;, then the final name of the parameter is node name/param name        arg (take in arguments from outside this file, and otherwise set default)          e.g. &lt;arg name=&quot;world_path&quot; default=&quot;$(find racing)/resources/racing_world.yaml&quot;/&gt;      roslaunch --ros-args /path/to/launchfile.launch  Display command-line arguments for this launch file&lt;launch&gt;  &lt;!-- ros_args.launch --&gt;  &lt;arg name=&quot;foo&quot; default=&quot;true&quot; doc=&quot;I pity the foo&#39;.&quot;/&gt;  &lt;arg name=&quot;bar&quot; doc=&quot;Someone walks into this.&quot;/&gt;  &lt;arg name=&quot;baz&quot; default=&quot;false&quot;/&gt;  &lt;arg name=&quot;nop&quot;/&gt;  &lt;arg name=&quot;fix&quot; value=&quot;true&quot;/&gt;&lt;/launch&gt;Show Launch File Information$&gt; roslaunch --ros-args ros_args.launchRequired Arguments:  bar: Someone walks into this.  nop: undocumentedOptional Arguments:  baz (default &quot;false&quot;): undocumented  foo (default &quot;true&quot;): I pity the foo&#39;.Rosrunrosrun &lt;package&gt; &lt;node&gt;Nodesrosnode listrosnode info &lt;node&gt;Parametersrosparam &lt;&lt;&lt; hit tab 2x &gt;&gt;&gt;rosparam listrosparam set &lt;parameter&gt; &lt;value&gt;rosparam get &lt;parameter&gt;Messagesrosmsg show &lt;&lt;&lt; hit tab 2x &gt;&gt;&gt;rosmsg show &lt;message type&gt;    # (message type: zB geometry_msgs/Twist)alternativ: rosmsg infoTopicsrostopic listrostopic info /topic &lt;&lt;&lt; hit tab 2x &gt;&gt;&gt;    # zeigt .msg type des topics (gibt nur einen) UND Liste aller nodes, die zu &quot;/topic&quot; publishen oder &quot;/topic&quot; subscribenrostopic echo /topicrostopic pub /topic &lt;message type&gt; &lt;message&gt;Services  are similar to publish/subscribe message system, but are intended for one-time execution instead of permanent streaming.  Client directly calls service at another node without going through anonymous topic.  Services natively include responses ( publish/subscribe system does not! )  similar to .msg types, services work with .srv types (zB. flatland_msgs/MoveModel cp. output of rosservice info)rosservice listrosservice info /servicerossrv info &lt;service type&gt;rosservice call /service &lt;&lt;&lt; hit tab &gt;&gt;&gt;Bags(= a bag is a file format for storing message data.)rosbag record /Topic1 [ /Topic2 /Topic3 … ]			stores recorded .bag file with the contents of the specified topics in the current dir (i.e. use e.g. “roscd racing” before !)NOTE: Füge *.bag zum .gitignore file des branch hinzu ! (Weil .bag files werden in real-world projects zu groß (multiple GB) um sie in einer git repo zu tracken !) Dadurch bleibt git status “clean”, auch wenn ein .bag file dazukommt.rosbag info bagfile1 [ bagfile2 bagfile3 … ]rosbag play -l bagfile1 [ bagfile2 bagfile3 … ]    # -l for loop, ie. repeat after &quot;duration&quot; is over (sonst hört ROS nach ca. &quot;duration&quot; auf) (while running, press &lt;space&gt; to pause and resume the playback)rclcpp (ROS Client Library for C++)RWTH Self-Driving Lab 1yaml filesracing_cart.yaml  Vehicle model = (kinematic single track model [s. Ex5] + actuator model [incl. actuators’ “lagging”])header filesVehicleController.hros/ros.hsensor_msgs/LaserScan.hgeometry_msgs/Twist.hclassesros::Publisher::publish(const boost::shared_ptr&lt;M&gt;&amp; message)          // overloaded function   // &quot;M&quot; ist ein template parameter (s. C++ templates), d.h. &quot;M&quot; steht für einen beliebigen Typ bzw. Klasse::publish(const M&amp; message)                                            // overloaded function.  // &quot;M&quot; ist ein template parameter (s. C++ templates), d.h. &quot;M&quot; steht für einen beliebigen Typ bzw. Klasseros::Subscriberros::NodeHandle::getParam(&quot;vehicle/sensor_topic&quot;, subscribe_topic_sensors)::subscribe(subscribe_topic_sensors, 10, callbackLaserSensor)::advertise&lt;geometry_msgs::Twist&gt;(publish_topic_actuators, 10)ros::RateVehicleController::overwriteLidarDistances(const float distances[3])::computeTargetValues()::getTargetVelocity()::getTargetSteeringAngle()messagesGenerell gilt: Schaue message Definitionen in entsprechenden .msg files in noetic/share/sensor_msgs/msg/ nach ! Oder über rosmsg show Befehl !geometry_msgs::Twistgeometry_msgs::Vector3Understanding sensor_msgs::LaserScanPtr  LaserScanPtr ist ein typedef-Synonym für boost::shared_ptr&lt; ::sensor_msgs::LaserScan &gt;          dh. ::sensor_msgs::LaserScan wird hier als class im Template Parameter aufgenommen                  s. Notes “C++” unter “Double Colon prepended to the class name”                      ContainerAllocator ist ein struct-Template Parameter (struct templates sind ähnlich wie class templates)! (Zeile 22, LaserScan.h) und in Zeile 94 wird std::allocator&lt;void&gt; als Template Parameter übergeben, um den LaserScan-Typ über typedef zu definieren.          unterscheide LaserScan_ (mit Unterstrich) und LaserScan (ohne Unterstrich)      LaserScan (ohne Unterstrich) ist ein typedef für ein LaserScan_ (mit Unterstrich) -Objekt (Zeile 94 in LaserScan.h)      LaserScanPtr wiederum ist ein typedef für ein LaserScan-Objekt (Zeile 96)      ::ranges[i]  ranges hat den Typ _ranges_type (s. LaserScan.h), was ein typedef ist für std::vector&lt;float, custom Allocator&gt;, wobei der custom Allocator über den Template Parameter ContainerAllocator (s. Zeile 22 in LaserScan.h) festgelegt wird (in Zeile 94 ist der custom Allocator also std::allocator&lt;void&gt;  std::vector ist definiert als template &lt; class T, class Alloc = allocator&lt;T&gt; &gt; class vector; (s. &lt;vector&gt; header file) tutorialspoint  Wikipedia: Allocator  zu template rebind: stackoverflow  einfach gesagt: ranges ist ein beliebig langer std::vector mit float32 Elementen (vgl. rosmsg show sensor_msgs/LaserScan Befehl)methodsROS_INFO()ROS_INFO(&quot;string&quot;)ros::init()ros::init(argc, argv, &quot;vehicle_controller&quot;)ros::spin()ros::spin()alternativ zu ros::spin():  ros::Rate r(10); // 10 hz  while (ros::ok())  {    // ... do some work, publish some messages, etc. ...    ros::spinOnce();    r.sleep();			// r ist ein ros::Rate Objekt (s. 1. Zeile)  }">
    <meta itemprop="datePublished" content="2022-01-22T00:00:00+01:00">
    

    <div class="page__inner-wrap">
      
        <header>
          <h1 id="page-title" class="page__title p-name" itemprop="headline">
            <a href="http://localhost:4000/cheatsheet/cheatsheet-ros/" class="u-url" itemprop="url">ROS Cheatsheet
</a>
          </h1>
          

  <p class="page__meta">
    
      
      <span class="page__meta-date">
        <i class="far fa-calendar-alt" aria-hidden="true"></i>
        
        <time datetime="2022-01-22T00:00:00+01:00">January 22, 2022</time>
      </span>
    

    

    
  </p>


        </header>
      

      <section class="page__content e-content" itemprop="text">
        
          <aside class="sidebar__right sticky">
            <nav class="toc">
              <header><h4 class="nav__title"><i class="fas fa-file-alt"></i> On this page</h4></header>
              <ul class="toc__menu"><li><a href="#ros-packages">ROS Packages</a><ul><li><a href="#image_view">image_view</a></li><li><a href="#opencv_apps">opencv_apps</a><ul><li><a href="#install">Install</a></li><li><a href="#hough-transform">Hough Transform</a></li></ul></li></ul></li><li><a href="#fast-file-search">Fast File Search</a></li><li><a href="#roscore">Roscore</a></li><li><a href="#roslaunch">Roslaunch</a><ul><li><a href="#launch-files">Launch Files</a><ul><li><a href="#show-launch-file-information">Show Launch File Information</a></li></ul></li></ul></li><li><a href="#rosrun">Rosrun</a></li><li><a href="#nodes">Nodes</a></li><li><a href="#parameters">Parameters</a></li><li><a href="#messages">Messages</a></li><li><a href="#topics">Topics</a></li><li><a href="#services">Services</a></li><li><a href="#bags">Bags</a></li><li><a href="#rclcpp-ros-client-library-for-c">rclcpp (ROS Client Library for C++)</a><ul><li><a href="#rwth-self-driving-lab-1">RWTH Self-Driving Lab 1</a><ul><li><a href="#yaml-files">yaml files</a></li><li><a href="#header-files">header files</a></li><li><a href="#classes">classes</a></li><li><a href="#messages-1">messages</a></li><li><a href="#understanding-sensor_msgslaserscanptr">Understanding sensor_msgs::LaserScanPtr</a><ul><li><a href="#rangesi">::ranges[i]</a></li></ul></li><li><a href="#methods">methods</a><ul><li><a href="#ros_info">ROS_INFO()</a></li><li><a href="#rosinit">ros::init()</a></li><li><a href="#rosspin">ros::spin()</a></li></ul></li></ul></li></ul></li></ul>

            </nav>
          </aside>
        
        <h1 id="ros-packages">ROS Packages</h1>

<h2 id="image_view">image_view</h2>

<p>Display the images of an image topic:</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>rosrun image_view image_view image:<span class="o">=</span>/sensor/camera1/image_raw
</code></pre></div></div>

<h2 id="opencv_apps">opencv_apps</h2>

<h3 id="install">Install</h3>

<ul>
  <li><code class="language-plaintext highlighter-rouge">sudo apt install ros-noetic-opencv-apps</code></li>
</ul>

<h3 id="hough-transform">Hough Transform</h3>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>roslaunch opencv_apps hough_lines.launch image:<span class="o">=</span>/sensor/camera1/image_raw

<span class="c"># view all arguments of a node in the launch file</span>
roslaunch <span class="nt">--args</span> hough_lines /opt/ros/noetic/share/opencv_apps/launch/hough_lines.launch

<span class="c"># view all arguments of the launch file</span>
roslaunch <span class="nt">--ros-args</span> /opt/ros/noetic/share/opencv_apps/launch/hough_lines.launch
</code></pre></div></div>

<h1 id="fast-file-search">Fast File Search</h1>

<p>E.g. to quickly locate and show launch files, <code class="language-plaintext highlighter-rouge">package.xml</code>, etc.</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>rospack find rac<span class="o">&lt;&lt;&lt;</span> hit tab —&gt; racing <span class="o">&gt;&gt;&gt;</span>
roscat &lt;package&gt; &lt;file&gt;
</code></pre></div></div>

<h1 id="roscore">Roscore</h1>

<p>To start a <strong>ROS Master</strong> (and some other pre-requisite programs):</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>roscore
</code></pre></div></div>

<p>From <a href="http://wiki.ros.org/roscore">ROS wiki</a>:</p>

<p><code class="language-plaintext highlighter-rouge">roscore</code> is a collection of nodes and programs that are pre-requisites of a ROS-based system. You <strong>must</strong> have a roscore running in order for ROS nodes to communicate. It is launched using the roscore command.</p>

<p>NOTE: If you use <code class="language-plaintext highlighter-rouge">roslaunch</code>, it will automatically start <code class="language-plaintext highlighter-rouge">roscore</code> if it detects that it is not already running (unless the <code class="language-plaintext highlighter-rouge">--wait</code> argument is supplied).</p>

<p><code class="language-plaintext highlighter-rouge">roscore</code> will start up:</p>
<ul>
  <li>a <strong>ROS Master</strong></li>
  <li>a ROS Parameter Server</li>
  <li>a rosout logging node</li>
</ul>

<p>There are currently no plans to add to <code class="language-plaintext highlighter-rouge">roscore</code>.</p>

<h1 id="roslaunch">Roslaunch</h1>

<p>Tool for</p>
<ul>
  <li><strong>launching multiple ROS nodes</strong> and</li>
  <li><strong>setting parameters on the Parameter Server</strong>.
Takes in one or more <strong>XML configuration files</strong> (with <code class="language-plaintext highlighter-rouge">.launch</code> extension) that specify</li>
  <li>the <strong>parameters</strong> to set and</li>
  <li><strong>nodes</strong> to launch.</li>
</ul>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>roslaunch &lt;package&gt; &lt;.launch-file&gt; <span class="o">&lt;&lt;&lt;</span> hit tab 2x <span class="o">&gt;&gt;&gt;</span>		<span class="c"># mit tab 2x werden alle arguments des .launch file angezeigt</span>
</code></pre></div></div>

<h2 id="launch-files">Launch Files</h2>

<p><code class="language-plaintext highlighter-rouge">.launch</code> file tags:</p>
<ul>
  <li><code class="language-plaintext highlighter-rouge">node</code> (run node)</li>
  <li><code class="language-plaintext highlighter-rouge">param</code> (set param)
    <ul>
      <li>if <code class="language-plaintext highlighter-rouge">&lt;param name=… value=… /&gt;</code> is between <code class="language-plaintext highlighter-rouge">&lt;node name=… pkg=… type=… output=… &gt;</code> and <code class="language-plaintext highlighter-rouge">&lt;/node&gt;</code>, then the final name of the parameter is <code class="language-plaintext highlighter-rouge">node name</code>/<code class="language-plaintext highlighter-rouge">param name</code></li>
    </ul>
  </li>
  <li><code class="language-plaintext highlighter-rouge">arg</code> (take in arguments from outside this file, and otherwise set default)
    <ul>
      <li>e.g. <code class="language-plaintext highlighter-rouge">&lt;arg name="world_path" default="$(find racing)/resources/racing_world.yaml"/&gt;</code></li>
    </ul>
  </li>
</ul>

<p><code class="language-plaintext highlighter-rouge">roslaunch --ros-args /path/to/launchfile.launch</code></p>
<ul>
  <li>Display command-line arguments for this launch file</li>
</ul>

<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;launch&gt;</span>
  <span class="c">&lt;!-- ros_args.launch --&gt;</span>
  <span class="nt">&lt;arg</span> <span class="na">name=</span><span class="s">"foo"</span> <span class="na">default=</span><span class="s">"true"</span> <span class="na">doc=</span><span class="s">"I pity the foo'."</span><span class="nt">/&gt;</span>
  <span class="nt">&lt;arg</span> <span class="na">name=</span><span class="s">"bar"</span> <span class="na">doc=</span><span class="s">"Someone walks into this."</span><span class="nt">/&gt;</span>
  <span class="nt">&lt;arg</span> <span class="na">name=</span><span class="s">"baz"</span> <span class="na">default=</span><span class="s">"false"</span><span class="nt">/&gt;</span>
  <span class="nt">&lt;arg</span> <span class="na">name=</span><span class="s">"nop"</span><span class="nt">/&gt;</span>
  <span class="nt">&lt;arg</span> <span class="na">name=</span><span class="s">"fix"</span> <span class="na">value=</span><span class="s">"true"</span><span class="nt">/&gt;</span>
<span class="nt">&lt;/launch&gt;</span>
</code></pre></div></div>

<h3 id="show-launch-file-information">Show Launch File Information</h3>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$&gt;</span> roslaunch <span class="nt">--ros-args</span> ros_args.launch
Required Arguments:
  bar: Someone walks into this.
  nop: undocumented
Optional Arguments:
  baz <span class="o">(</span>default <span class="s2">"false"</span><span class="o">)</span>: undocumented
  foo <span class="o">(</span>default <span class="s2">"true"</span><span class="o">)</span>: I pity the foo<span class="s1">'.
</span></code></pre></div></div>

<h1 id="rosrun">Rosrun</h1>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>rosrun &lt;package&gt; &lt;node&gt;
</code></pre></div></div>

<h1 id="nodes">Nodes</h1>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>rosnode list
rosnode info &lt;node&gt;
</code></pre></div></div>

<h1 id="parameters">Parameters</h1>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>rosparam <span class="o">&lt;&lt;&lt;</span> hit tab 2x <span class="o">&gt;&gt;&gt;</span>
rosparam list
rosparam <span class="nb">set</span> &lt;parameter&gt; &lt;value&gt;
rosparam get &lt;parameter&gt;
</code></pre></div></div>

<h1 id="messages">Messages</h1>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>rosmsg show <span class="o">&lt;&lt;&lt;</span> hit tab 2x <span class="o">&gt;&gt;&gt;</span>
rosmsg show &lt;message <span class="nb">type</span><span class="o">&gt;</span>    <span class="c"># (message type: zB geometry_msgs/Twist)</span>
</code></pre></div></div>
<p>alternativ: <code class="language-plaintext highlighter-rouge">rosmsg info</code></p>

<h1 id="topics">Topics</h1>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>rostopic list
rostopic info /topic <span class="o">&lt;&lt;&lt;</span> hit tab 2x <span class="o">&gt;&gt;&gt;</span>    <span class="c"># zeigt .msg type des topics (gibt nur einen) UND Liste aller nodes, die zu "/topic" publishen oder "/topic" subscriben</span>
rostopic <span class="nb">echo</span> /topic
rostopic pub /topic &lt;message <span class="nb">type</span><span class="o">&gt;</span> &lt;message&gt;
</code></pre></div></div>

<h1 id="services">Services</h1>

<ul>
  <li>are similar to publish/subscribe message system, but are <strong>intended for one-time execution</strong> instead of permanent streaming.</li>
  <li>Client <strong>directly</strong> calls service at another node <strong>without going through anonymous topic</strong>.</li>
  <li>Services natively include <strong>responses</strong> ( publish/subscribe system does not! )</li>
  <li>similar to .msg types, services work with <strong>.srv types</strong> (zB. <code class="language-plaintext highlighter-rouge">flatland_msgs/MoveModel</code> cp. output of <code class="language-plaintext highlighter-rouge">rosservice info</code>)</li>
</ul>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>rosservice list
rosservice info /service
rossrv info &lt;service <span class="nb">type</span><span class="o">&gt;</span>
rosservice call /service <span class="o">&lt;&lt;&lt;</span> hit tab <span class="o">&gt;&gt;&gt;</span>
</code></pre></div></div>

<h1 id="bags">Bags</h1>

<p>(= a bag is a <strong>file format</strong> for storing message data.)</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>rosbag record /Topic1 <span class="o">[</span> /Topic2 /Topic3 … <span class="o">]</span>			stores recorded .bag file with the contents of the specified topics <span class="k">in </span>the current <span class="nb">dir</span> <span class="o">(</span>i.e. use e.g. “roscd racing” before <span class="o">!)</span>
</code></pre></div></div>

<p><strong>NOTE</strong>: Füge <code class="language-plaintext highlighter-rouge">*.bag</code> zum <code class="language-plaintext highlighter-rouge">.gitignore</code> file des branch hinzu ! (Weil <code class="language-plaintext highlighter-rouge">.bag</code> files werden in real-world projects zu groß (multiple GB) um sie in einer git repo zu tracken !) Dadurch bleibt <code class="language-plaintext highlighter-rouge">git status</code> “clean”, auch wenn ein <code class="language-plaintext highlighter-rouge">.bag</code> file dazukommt.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>rosbag info bagfile1 <span class="o">[</span> bagfile2 bagfile3 … <span class="o">]</span>
</code></pre></div></div>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>rosbag play <span class="nt">-l</span> bagfile1 <span class="o">[</span> bagfile2 bagfile3 … <span class="o">]</span>    <span class="c"># -l for loop, ie. repeat after "duration" is over (sonst hört ROS nach ca. "duration" auf) (while running, press &lt;space&gt; to pause and resume the playback)</span>
</code></pre></div></div>

<h1 id="rclcpp-ros-client-library-for-c">rclcpp (ROS Client Library for C++)</h1>

<h2 id="rwth-self-driving-lab-1">RWTH Self-Driving Lab 1</h2>

<h3 id="yaml-files">yaml files</h3>

<p><code class="language-plaintext highlighter-rouge">racing_cart.yaml</code></p>
<ul>
  <li><strong>Vehicle model</strong> = (<strong>kinematic single track model</strong> [s. Ex5] + <strong>actuator model</strong> [incl. actuators’ “lagging”])</li>
</ul>

<h3 id="header-files">header files</h3>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>VehicleController.h
ros/ros.h
sensor_msgs/LaserScan.h
geometry_msgs/Twist.h
</code></pre></div></div>

<h3 id="classes">classes</h3>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">ros</span><span class="o">::</span><span class="n">Publisher</span>
<span class="o">::</span><span class="n">publish</span><span class="p">(</span><span class="k">const</span> <span class="n">boost</span><span class="o">::</span><span class="n">shared_ptr</span><span class="o">&lt;</span><span class="n">M</span><span class="o">&gt;&amp;</span> <span class="n">message</span><span class="p">)</span>          <span class="c1">// overloaded function   // "M" ist ein template parameter (s. C++ templates), d.h. "M" steht für einen beliebigen Typ bzw. Klasse</span>
<span class="o">::</span><span class="n">publish</span><span class="p">(</span><span class="k">const</span> <span class="n">M</span><span class="o">&amp;</span> <span class="n">message</span><span class="p">)</span>                                            <span class="c1">// overloaded function.  // "M" ist ein template parameter (s. C++ templates), d.h. "M" steht für einen beliebigen Typ bzw. Klasse</span>
<span class="n">ros</span><span class="o">::</span><span class="n">Subscriber</span>
<span class="n">ros</span><span class="o">::</span><span class="n">NodeHandle</span>
<span class="o">::</span><span class="n">getParam</span><span class="p">(</span><span class="s">"vehicle/sensor_topic"</span><span class="p">,</span> <span class="n">subscribe_topic_sensors</span><span class="p">)</span>
<span class="o">::</span><span class="n">subscribe</span><span class="p">(</span><span class="n">subscribe_topic_sensors</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="n">callbackLaserSensor</span><span class="p">)</span>
<span class="o">::</span><span class="n">advertise</span><span class="o">&lt;</span><span class="n">geometry_msgs</span><span class="o">::</span><span class="n">Twist</span><span class="o">&gt;</span><span class="p">(</span><span class="n">publish_topic_actuators</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
<span class="n">ros</span><span class="o">::</span><span class="n">Rate</span>
</code></pre></div></div>

<p>VehicleController</p>
<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">::</span><span class="n">overwriteLidarDistances</span><span class="p">(</span><span class="k">const</span> <span class="kt">float</span> <span class="n">distances</span><span class="p">[</span><span class="mi">3</span><span class="p">])</span>
<span class="o">::</span><span class="n">computeTargetValues</span><span class="p">()</span>
<span class="o">::</span><span class="n">getTargetVelocity</span><span class="p">()</span>
<span class="o">::</span><span class="n">getTargetSteeringAngle</span><span class="p">()</span>
</code></pre></div></div>

<h3 id="messages-1">messages</h3>

<p><strong>Generell gilt</strong>: Schaue message Definitionen in entsprechenden <code class="language-plaintext highlighter-rouge">.msg</code> files in <code class="language-plaintext highlighter-rouge">noetic/share/sensor_msgs/msg/</code> nach ! Oder über <code class="language-plaintext highlighter-rouge">rosmsg show</code> Befehl !</p>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">geometry_msgs</span><span class="o">::</span><span class="n">Twist</span>
<span class="n">geometry_msgs</span><span class="o">::</span><span class="n">Vector3</span>
</code></pre></div></div>

<h3 id="understanding-sensor_msgslaserscanptr">Understanding <code class="language-plaintext highlighter-rouge">sensor_msgs::LaserScanPtr</code></h3>

<ul>
  <li><code class="language-plaintext highlighter-rouge">LaserScanPtr</code> ist ein <code class="language-plaintext highlighter-rouge">typedef</code>-Synonym für <code class="language-plaintext highlighter-rouge">boost::shared_ptr&lt; ::sensor_msgs::LaserScan &gt;</code>
    <ul>
      <li>dh. <code class="language-plaintext highlighter-rouge">::sensor_msgs::LaserScan</code> wird hier als class im <strong>Template Parameter</strong> aufgenommen
        <ul>
          <li>s. Notes “C++” unter “<strong>Double Colon prepended to the class name</strong>”</li>
        </ul>
      </li>
    </ul>
  </li>
  <li><code class="language-plaintext highlighter-rouge">ContainerAllocator</code> ist ein <code class="language-plaintext highlighter-rouge">struct</code>-<strong>Template Parameter</strong> (<code class="language-plaintext highlighter-rouge">struct</code> templates sind ähnlich wie <code class="language-plaintext highlighter-rouge">class</code> templates)! (Zeile 22, <code class="language-plaintext highlighter-rouge">LaserScan.h</code>) und in Zeile 94 wird <code class="language-plaintext highlighter-rouge">std::allocator&lt;void&gt;</code> als <strong>Template Parameter</strong> übergeben, um den <code class="language-plaintext highlighter-rouge">LaserScan</code>-Typ über <code class="language-plaintext highlighter-rouge">typedef</code> zu definieren.
    <ul>
      <li>unterscheide <code class="language-plaintext highlighter-rouge">LaserScan_</code> (mit Unterstrich) und <code class="language-plaintext highlighter-rouge">LaserScan</code> (ohne Unterstrich)</li>
      <li><code class="language-plaintext highlighter-rouge">LaserScan</code> (ohne Unterstrich) ist ein <code class="language-plaintext highlighter-rouge">typedef</code> für ein <code class="language-plaintext highlighter-rouge">LaserScan_</code> (mit Unterstrich) -Objekt (Zeile 94 in <code class="language-plaintext highlighter-rouge">LaserScan.h</code>)</li>
      <li><code class="language-plaintext highlighter-rouge">LaserScanPtr</code> wiederum ist ein <code class="language-plaintext highlighter-rouge">typedef</code> für ein <code class="language-plaintext highlighter-rouge">LaserScan</code>-Objekt (Zeile 96)</li>
    </ul>
  </li>
</ul>

<h4 id="rangesi"><code class="language-plaintext highlighter-rouge">::ranges[i]</code></h4>

<ul>
  <li>ranges hat den Typ <code class="language-plaintext highlighter-rouge">_ranges_type</code> (s. <code class="language-plaintext highlighter-rouge">LaserScan.h</code>), was ein <code class="language-plaintext highlighter-rouge">typedef</code> ist für <code class="language-plaintext highlighter-rouge">std::vector&lt;float, custom Allocator&gt;</code>, wobei der custom Allocator über den Template Parameter <code class="language-plaintext highlighter-rouge">ContainerAllocator</code> (s. Zeile 22 in <code class="language-plaintext highlighter-rouge">LaserScan.h</code>) festgelegt wird (in Zeile 94 ist der custom Allocator also <code class="language-plaintext highlighter-rouge">std::allocator&lt;void&gt;</code></li>
  <li><code class="language-plaintext highlighter-rouge">std::vector</code> ist definiert als <code class="language-plaintext highlighter-rouge">template &lt; class T, class Alloc = allocator&lt;T&gt; &gt; class vector;</code> (s. <code class="language-plaintext highlighter-rouge">&lt;vector&gt;</code> header file) <a href="https://www.tutorialspoint.com/cpp_standard_library/vector.htm">tutorialspoint</a></li>
  <li><a href="https://en.wikipedia.org/wiki/Allocator_(C%2B%2B)">Wikipedia: Allocator</a></li>
  <li>zu <code class="language-plaintext highlighter-rouge">template rebind</code>: <a href="https://stackoverflow.com/questions/14148756/what-does-template-rebind-do">stackoverflow</a></li>
  <li><strong>einfach gesagt</strong>: ranges ist ein beliebig langer <code class="language-plaintext highlighter-rouge">std::vector</code> mit <code class="language-plaintext highlighter-rouge">float32</code> Elementen (vgl. <code class="language-plaintext highlighter-rouge">rosmsg show sensor_msgs/LaserScan</code> Befehl)</li>
</ul>

<h3 id="methods">methods</h3>

<h4 id="ros_info">ROS_INFO()</h4>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">ROS_INFO</span><span class="p">(</span><span class="s">"string"</span><span class="p">)</span>
</code></pre></div></div>

<h4 id="rosinit">ros::init()</h4>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">ros</span><span class="o">::</span><span class="n">init</span><span class="p">(</span><span class="n">argc</span><span class="p">,</span> <span class="n">argv</span><span class="p">,</span> <span class="s">"vehicle_controller"</span><span class="p">)</span>
</code></pre></div></div>

<h4 id="rosspin">ros::spin()</h4>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">ros</span><span class="o">::</span><span class="n">spin</span><span class="p">()</span>
</code></pre></div></div>

<p>alternativ zu <code class="language-plaintext highlighter-rouge">ros::spin()</code>:</p>
<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="n">ros</span><span class="o">::</span><span class="n">Rate</span> <span class="nf">r</span><span class="p">(</span><span class="mi">10</span><span class="p">);</span> <span class="c1">// 10 hz</span>
  <span class="k">while</span> <span class="p">(</span><span class="n">ros</span><span class="o">::</span><span class="n">ok</span><span class="p">())</span>
  <span class="p">{</span>
    <span class="c1">// ... do some work, publish some messages, etc. ...</span>
    <span class="n">ros</span><span class="o">::</span><span class="n">spinOnce</span><span class="p">();</span>
    <span class="n">r</span><span class="p">.</span><span class="n">sleep</span><span class="p">();</span>			<span class="c1">// r ist ein ros::Rate Objekt (s. 1. Zeile)</span>
  <span class="p">}</span>
</code></pre></div></div>

        
      </section>

      <footer class="page__meta">
        
        
  


  

  <p class="page__taxonomy">
    <strong><i class="fas fa-fw fa-tags" aria-hidden="true"></i> Tags: </strong>
    <span itemprop="keywords">
    
      <a href="/tags/#cheatsheet" class="page__taxonomy-item p-category" rel="tag">cheatsheet</a><span class="sep">, </span>
    
      <a href="/tags/#ros" class="page__taxonomy-item p-category" rel="tag">ros</a>
    
    </span>
  </p>




  


  

  <p class="page__taxonomy">
    <strong><i class="fas fa-fw fa-folder-open" aria-hidden="true"></i> Categories: </strong>
    <span itemprop="keywords">
    
      <a href="/categories/#cheatsheet" class="page__taxonomy-item p-category" rel="tag">Cheatsheet</a>
    
    </span>
  </p>


        

  <p class="page__date"><strong><i class="fas fa-fw fa-calendar-alt" aria-hidden="true"></i> Updated:</strong> <time class="dt-published" datetime="2022-01-22T00:00:00+01:00">January 22, 2022</time></p>

      </footer>

      <section class="page__share">
  

  <a href="https://twitter.com/intent/tweet?text=ROS+Cheatsheet%20http%3A%2F%2Flocalhost%3A4000%2Fcheatsheet%2Fcheatsheet-ros%2F" class="btn btn--twitter" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Share on Twitter"><i class="fab fa-fw fa-twitter" aria-hidden="true"></i><span> Twitter</span></a>

  <a href="https://www.facebook.com/sharer/sharer.php?u=http%3A%2F%2Flocalhost%3A4000%2Fcheatsheet%2Fcheatsheet-ros%2F" class="btn btn--facebook" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Share on Facebook"><i class="fab fa-fw fa-facebook" aria-hidden="true"></i><span> Facebook</span></a>

  <a href="https://www.linkedin.com/shareArticle?mini=true&url=http%3A%2F%2Flocalhost%3A4000%2Fcheatsheet%2Fcheatsheet-ros%2F" class="btn btn--linkedin" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Share on LinkedIn"><i class="fab fa-fw fa-linkedin" aria-hidden="true"></i><span> LinkedIn</span></a>
</section>


      
  <nav class="pagination">
    
      <a href="/notes/lecture-notes-ML-part2/" class="pagination--pager" title="Machine Learning (Part 2)
">Previous</a>
    
    
      <a href="/notes/lecture-notes-ML-part3/" class="pagination--pager" title="Machine Learning (Part 3)
">Next</a>
    
  </nav>

    </div>

    
  </article>

  
  
    <div class="page__related">
      <h2 class="page__related-title">You May Also Enjoy</h2>
      <div class="grid__wrapper">
        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
      <div class="archive__item-teaser">
        <img src="/assets/images/mario-question-block.jpeg" alt="">
      </div>
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/notes/notes-html/" rel="permalink">HTML Notes
</a>
      
    </h2>
    

  <p class="page__meta">
    
      
      <span class="page__meta-date">
        <i class="far fa-calendar-alt" aria-hidden="true"></i>
        
        <time datetime="2022-10-10T00:00:00+02:00">October 10, 2022</time>
      </span>
    

    

    
  </p>


    <p class="archive__item-excerpt" itemprop="description">For learning html.
</p>
  </article>
</div>

        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
      <div class="archive__item-teaser">
        <img src="/assets/images/Cpp_logo.png" alt="">
      </div>
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/notes/notes-cpp/" rel="permalink">C++ Notes
</a>
      
    </h2>
    

  <p class="page__meta">
    
      
      <span class="page__meta-date">
        <i class="far fa-calendar-alt" aria-hidden="true"></i>
        
        <time datetime="2022-10-06T00:00:00+02:00">October 6, 2022</time>
      </span>
    

    

    
  </p>


    <p class="archive__item-excerpt" itemprop="description">For learning C++
</p>
  </article>
</div>

        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
      <div class="archive__item-teaser">
        <img src="/assets/images/C_logo.png" alt="">
      </div>
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/cheatsheet/cheatsheet-android/" rel="permalink">Android Cheatsheet
</a>
      
    </h2>
    

  <p class="page__meta">
    
      
      <span class="page__meta-date">
        <i class="far fa-calendar-alt" aria-hidden="true"></i>
        
        <time datetime="2022-10-04T00:00:00+02:00">October 4, 2022</time>
      </span>
    

    

    
  </p>


    <p class="archive__item-excerpt" itemprop="description">Useful tips for using Android
</p>
  </article>
</div>

        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
      <div class="archive__item-teaser">
        <img src="/assets/images/C_logo.png" alt="">
      </div>
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/notes/notes-SE/" rel="permalink">Software Engineering Notes
</a>
      
    </h2>
    

  <p class="page__meta">
    
      
      <span class="page__meta-date">
        <i class="far fa-calendar-alt" aria-hidden="true"></i>
        
        <time datetime="2022-10-03T00:00:00+02:00">October 3, 2022</time>
      </span>
    

    

    
  </p>


    <p class="archive__item-excerpt" itemprop="description">Software Engineering Basics
</p>
  </article>
</div>

        
      </div>
    </div>
  
  
</div>

    </div>

    
      <div class="search-content">
        <div class="search-content__inner-wrap"><form class="search-content__form" onkeydown="return event.key != 'Enter';" role="search">
    <label class="sr-only" for="search">
      Enter your search term...
    </label>
    <input type="search" id="search" class="search-input" tabindex="-1" placeholder="Enter your search term..." />
  </form>
  <div id="results" class="results"></div></div>

      </div>
    

    <div id="footer" class="page__footer">
      <footer>
        <!-- start custom footer snippets -->

<!-- end custom footer snippets -->
        <div class="page__footer-follow">
  <ul class="social-icons">
    

    
      
        
          <li><a href="https://twitter.com/pharath_one" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-twitter-square" aria-hidden="true"></i> Twitter</a></li>
        
      
        
          <li><a href="https://github.com/pharath" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-github" aria-hidden="true"></i> GitHub</a></li>
        
      
        
          <li><a href="/_pages/404.md" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-instagram" aria-hidden="true"></i> Instagram</a></li>
        
      
    

    
      <li><a href="/feed.xml"><i class="fas fa-fw fa-rss-square" aria-hidden="true"></i> Feed</a></li>
    
  </ul>
</div>

<div class="page__footer-copyright">&copy; 2022 Pharath Palesuvaran. </div>


      </footer>
    </div>

    
  <script src="/assets/js/main.min.js"></script>




<script src="/assets/js/lunr/lunr.min.js"></script>
<script src="/assets/js/lunr/lunr-store.js"></script>
<script src="/assets/js/lunr/lunr-en.js"></script>







  </body>
</html>
